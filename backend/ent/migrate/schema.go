// Code generated by ent, DO NOT EDIT.

package migrate

import (
	"entgo.io/ent/dialect/sql/schema"
	"entgo.io/ent/schema/field"
)

var (
	// ArchivesColumns holds the columns for the "archives" table.
	ArchivesColumns = []*schema.Column{
		{Name: "id", Type: field.TypeInt, Increment: true},
		{Name: "name", Type: field.TypeString},
		{Name: "created_at", Type: field.TypeTime},
		{Name: "duration", Type: field.TypeTime},
		{Name: "borg_id", Type: field.TypeString},
		{Name: "archive_repository", Type: field.TypeInt},
		{Name: "archive_backup_profile", Type: field.TypeInt, Nullable: true},
		{Name: "backup_profile_archives", Type: field.TypeInt, Nullable: true},
	}
	// ArchivesTable holds the schema information for the "archives" table.
	ArchivesTable = &schema.Table{
		Name:       "archives",
		Columns:    ArchivesColumns,
		PrimaryKey: []*schema.Column{ArchivesColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "archives_repositories_repository",
				Columns:    []*schema.Column{ArchivesColumns[5]},
				RefColumns: []*schema.Column{RepositoriesColumns[0]},
				OnDelete:   schema.NoAction,
			},
			{
				Symbol:     "archives_backup_profiles_backup_profile",
				Columns:    []*schema.Column{ArchivesColumns[6]},
				RefColumns: []*schema.Column{BackupProfilesColumns[0]},
				OnDelete:   schema.SetNull,
			},
			{
				Symbol:     "archives_backup_profiles_archives",
				Columns:    []*schema.Column{ArchivesColumns[7]},
				RefColumns: []*schema.Column{BackupProfilesColumns[0]},
				OnDelete:   schema.SetNull,
			},
		},
	}
	// BackupProfilesColumns holds the columns for the "backup_profiles" table.
	BackupProfilesColumns = []*schema.Column{
		{Name: "id", Type: field.TypeInt, Increment: true},
		{Name: "name", Type: field.TypeString},
		{Name: "prefix", Type: field.TypeString},
		{Name: "backup_paths", Type: field.TypeJSON},
		{Name: "exclude_paths", Type: field.TypeJSON, Nullable: true},
		{Name: "is_setup_complete", Type: field.TypeBool, Default: false},
	}
	// BackupProfilesTable holds the schema information for the "backup_profiles" table.
	BackupProfilesTable = &schema.Table{
		Name:       "backup_profiles",
		Columns:    BackupProfilesColumns,
		PrimaryKey: []*schema.Column{BackupProfilesColumns[0]},
	}
	// BackupSchedulesColumns holds the columns for the "backup_schedules" table.
	BackupSchedulesColumns = []*schema.Column{
		{Name: "id", Type: field.TypeInt, Increment: true},
		{Name: "hourly", Type: field.TypeBool, Default: false},
		{Name: "daily_at", Type: field.TypeTime, Nullable: true},
		{Name: "weekday", Type: field.TypeEnum, Nullable: true, Enums: []string{"monday", "tuesday", "wednesday", "thursday", "friday", "saturday", "sunday"}},
		{Name: "weekly_at", Type: field.TypeTime, Nullable: true},
		{Name: "monthday", Type: field.TypeUint8, Nullable: true},
		{Name: "monthly_at", Type: field.TypeTime, Nullable: true},
		{Name: "next_run", Type: field.TypeTime, Nullable: true},
		{Name: "last_run", Type: field.TypeTime, Nullable: true},
		{Name: "last_run_status", Type: field.TypeString, Nullable: true},
		{Name: "backup_profile_backup_schedule", Type: field.TypeInt, Unique: true},
	}
	// BackupSchedulesTable holds the schema information for the "backup_schedules" table.
	BackupSchedulesTable = &schema.Table{
		Name:       "backup_schedules",
		Columns:    BackupSchedulesColumns,
		PrimaryKey: []*schema.Column{BackupSchedulesColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "backup_schedules_backup_profiles_backup_schedule",
				Columns:    []*schema.Column{BackupSchedulesColumns[10]},
				RefColumns: []*schema.Column{BackupProfilesColumns[0]},
				OnDelete:   schema.Cascade,
			},
		},
		Indexes: []*schema.Index{
			{
				Name:    "backupschedule_next_run",
				Unique:  false,
				Columns: []*schema.Column{BackupSchedulesColumns[7]},
			},
		},
	}
	// FailedBackupRunsColumns holds the columns for the "failed_backup_runs" table.
	FailedBackupRunsColumns = []*schema.Column{
		{Name: "id", Type: field.TypeInt, Increment: true},
		{Name: "error", Type: field.TypeString},
		{Name: "failed_backup_run_backup_profile", Type: field.TypeInt},
		{Name: "failed_backup_run_repository", Type: field.TypeInt},
	}
	// FailedBackupRunsTable holds the schema information for the "failed_backup_runs" table.
	FailedBackupRunsTable = &schema.Table{
		Name:       "failed_backup_runs",
		Columns:    FailedBackupRunsColumns,
		PrimaryKey: []*schema.Column{FailedBackupRunsColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "failed_backup_runs_backup_profiles_backup_profile",
				Columns:    []*schema.Column{FailedBackupRunsColumns[2]},
				RefColumns: []*schema.Column{BackupProfilesColumns[0]},
				OnDelete:   schema.Cascade,
			},
			{
				Symbol:     "failed_backup_runs_repositories_repository",
				Columns:    []*schema.Column{FailedBackupRunsColumns[3]},
				RefColumns: []*schema.Column{RepositoriesColumns[0]},
				OnDelete:   schema.Cascade,
			},
		},
		Indexes: []*schema.Index{
			{
				Name:    "failedbackuprun_failed_backup_run_backup_profile_failed_backup_run_repository",
				Unique:  true,
				Columns: []*schema.Column{FailedBackupRunsColumns[2], FailedBackupRunsColumns[3]},
			},
		},
	}
	// RepositoriesColumns holds the columns for the "repositories" table.
	RepositoriesColumns = []*schema.Column{
		{Name: "id", Type: field.TypeInt, Increment: true},
		{Name: "name", Type: field.TypeString},
		{Name: "url", Type: field.TypeString, Unique: true},
		{Name: "password", Type: field.TypeString},
		{Name: "stats_total_chunks", Type: field.TypeInt, Default: 0},
		{Name: "stats_total_size", Type: field.TypeInt, Default: 0},
		{Name: "stats_total_csize", Type: field.TypeInt, Default: 0},
		{Name: "stats_total_unique_chunks", Type: field.TypeInt, Default: 0},
		{Name: "stats_unique_size", Type: field.TypeInt, Default: 0},
		{Name: "stats_unique_csize", Type: field.TypeInt, Default: 0},
	}
	// RepositoriesTable holds the schema information for the "repositories" table.
	RepositoriesTable = &schema.Table{
		Name:       "repositories",
		Columns:    RepositoriesColumns,
		PrimaryKey: []*schema.Column{RepositoriesColumns[0]},
	}
	// BackupProfileRepositoriesColumns holds the columns for the "backup_profile_repositories" table.
	BackupProfileRepositoriesColumns = []*schema.Column{
		{Name: "backup_profile_id", Type: field.TypeInt},
		{Name: "repository_id", Type: field.TypeInt},
	}
	// BackupProfileRepositoriesTable holds the schema information for the "backup_profile_repositories" table.
	BackupProfileRepositoriesTable = &schema.Table{
		Name:       "backup_profile_repositories",
		Columns:    BackupProfileRepositoriesColumns,
		PrimaryKey: []*schema.Column{BackupProfileRepositoriesColumns[0], BackupProfileRepositoriesColumns[1]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "backup_profile_repositories_backup_profile_id",
				Columns:    []*schema.Column{BackupProfileRepositoriesColumns[0]},
				RefColumns: []*schema.Column{BackupProfilesColumns[0]},
				OnDelete:   schema.Cascade,
			},
			{
				Symbol:     "backup_profile_repositories_repository_id",
				Columns:    []*schema.Column{BackupProfileRepositoriesColumns[1]},
				RefColumns: []*schema.Column{RepositoriesColumns[0]},
				OnDelete:   schema.Cascade,
			},
		},
	}
	// Tables holds all the tables in the schema.
	Tables = []*schema.Table{
		ArchivesTable,
		BackupProfilesTable,
		BackupSchedulesTable,
		FailedBackupRunsTable,
		RepositoriesTable,
		BackupProfileRepositoriesTable,
	}
)

func init() {
	ArchivesTable.ForeignKeys[0].RefTable = RepositoriesTable
	ArchivesTable.ForeignKeys[1].RefTable = BackupProfilesTable
	ArchivesTable.ForeignKeys[2].RefTable = BackupProfilesTable
	BackupSchedulesTable.ForeignKeys[0].RefTable = BackupProfilesTable
	FailedBackupRunsTable.ForeignKeys[0].RefTable = BackupProfilesTable
	FailedBackupRunsTable.ForeignKeys[1].RefTable = RepositoriesTable
	BackupProfileRepositoriesTable.ForeignKeys[0].RefTable = BackupProfilesTable
	BackupProfileRepositoriesTable.ForeignKeys[1].RefTable = RepositoriesTable
}
