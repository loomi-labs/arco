// Code generated by ent, DO NOT EDIT.

package migrate

import (
	"entgo.io/ent/dialect/sql/schema"
	"entgo.io/ent/schema/field"
)

var (
	// ArchivesColumns holds the columns for the "archives" table.
	ArchivesColumns = []*schema.Column{
		{Name: "id", Type: field.TypeInt, Increment: true},
		{Name: "created_at", Type: field.TypeTime},
		{Name: "updated_at", Type: field.TypeTime},
		{Name: "name", Type: field.TypeString},
		{Name: "duration", Type: field.TypeFloat64},
		{Name: "borg_id", Type: field.TypeString},
		{Name: "will_be_pruned", Type: field.TypeBool, Default: false},
		{Name: "archive_repository", Type: field.TypeInt},
		{Name: "archive_backup_profile", Type: field.TypeInt, Nullable: true},
		{Name: "backup_profile_archives", Type: field.TypeInt, Nullable: true},
	}
	// ArchivesTable holds the schema information for the "archives" table.
	ArchivesTable = &schema.Table{
		Name:       "archives",
		Columns:    ArchivesColumns,
		PrimaryKey: []*schema.Column{ArchivesColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "archives_repositories_repository",
				Columns:    []*schema.Column{ArchivesColumns[7]},
				RefColumns: []*schema.Column{RepositoriesColumns[0]},
				OnDelete:   schema.Cascade,
			},
			{
				Symbol:     "archives_backup_profiles_backup_profile",
				Columns:    []*schema.Column{ArchivesColumns[8]},
				RefColumns: []*schema.Column{BackupProfilesColumns[0]},
				OnDelete:   schema.SetNull,
			},
			{
				Symbol:     "archives_backup_profiles_archives",
				Columns:    []*schema.Column{ArchivesColumns[9]},
				RefColumns: []*schema.Column{BackupProfilesColumns[0]},
				OnDelete:   schema.SetNull,
			},
		},
	}
	// BackupProfilesColumns holds the columns for the "backup_profiles" table.
	BackupProfilesColumns = []*schema.Column{
		{Name: "id", Type: field.TypeInt, Increment: true},
		{Name: "created_at", Type: field.TypeTime},
		{Name: "updated_at", Type: field.TypeTime},
		{Name: "name", Type: field.TypeString, Size: 30},
		{Name: "prefix", Type: field.TypeString, Unique: true},
		{Name: "backup_paths", Type: field.TypeJSON},
		{Name: "exclude_paths", Type: field.TypeJSON, Nullable: true},
		{Name: "icon", Type: field.TypeEnum, Enums: []string{"home", "briefcase", "book", "envelope", "camera", "fire"}},
	}
	// BackupProfilesTable holds the schema information for the "backup_profiles" table.
	BackupProfilesTable = &schema.Table{
		Name:       "backup_profiles",
		Columns:    BackupProfilesColumns,
		PrimaryKey: []*schema.Column{BackupProfilesColumns[0]},
	}
	// BackupSchedulesColumns holds the columns for the "backup_schedules" table.
	BackupSchedulesColumns = []*schema.Column{
		{Name: "id", Type: field.TypeInt, Increment: true},
		{Name: "created_at", Type: field.TypeTime},
		{Name: "updated_at", Type: field.TypeTime},
		{Name: "mode", Type: field.TypeEnum, Enums: []string{"disabled", "hourly", "daily", "weekly", "monthly"}, Default: "disabled"},
		{Name: "daily_at", Type: field.TypeTime},
		{Name: "weekday", Type: field.TypeEnum, Enums: []string{"monday", "tuesday", "wednesday", "thursday", "friday", "saturday", "sunday"}},
		{Name: "weekly_at", Type: field.TypeTime},
		{Name: "monthday", Type: field.TypeUint8},
		{Name: "monthly_at", Type: field.TypeTime},
		{Name: "next_run", Type: field.TypeTime, Nullable: true},
		{Name: "last_run", Type: field.TypeTime, Nullable: true},
		{Name: "last_run_status", Type: field.TypeString, Nullable: true},
		{Name: "backup_profile_backup_schedule", Type: field.TypeInt, Unique: true},
	}
	// BackupSchedulesTable holds the schema information for the "backup_schedules" table.
	BackupSchedulesTable = &schema.Table{
		Name:       "backup_schedules",
		Columns:    BackupSchedulesColumns,
		PrimaryKey: []*schema.Column{BackupSchedulesColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "backup_schedules_backup_profiles_backup_schedule",
				Columns:    []*schema.Column{BackupSchedulesColumns[12]},
				RefColumns: []*schema.Column{BackupProfilesColumns[0]},
				OnDelete:   schema.Cascade,
			},
		},
		Indexes: []*schema.Index{
			{
				Name:    "backupschedule_next_run",
				Unique:  false,
				Columns: []*schema.Column{BackupSchedulesColumns[9]},
			},
		},
	}
	// NotificationsColumns holds the columns for the "notifications" table.
	NotificationsColumns = []*schema.Column{
		{Name: "id", Type: field.TypeInt, Increment: true},
		{Name: "created_at", Type: field.TypeTime},
		{Name: "updated_at", Type: field.TypeTime},
		{Name: "message", Type: field.TypeString},
		{Name: "type", Type: field.TypeEnum, Enums: []string{"failed_backup_run", "failed_pruning_run"}},
		{Name: "seen", Type: field.TypeBool, Default: false},
		{Name: "action", Type: field.TypeEnum, Nullable: true, Enums: []string{"unlockRepository"}},
		{Name: "notification_backup_profile", Type: field.TypeInt},
		{Name: "notification_repository", Type: field.TypeInt},
	}
	// NotificationsTable holds the schema information for the "notifications" table.
	NotificationsTable = &schema.Table{
		Name:       "notifications",
		Columns:    NotificationsColumns,
		PrimaryKey: []*schema.Column{NotificationsColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "notifications_backup_profiles_backup_profile",
				Columns:    []*schema.Column{NotificationsColumns[7]},
				RefColumns: []*schema.Column{BackupProfilesColumns[0]},
				OnDelete:   schema.Cascade,
			},
			{
				Symbol:     "notifications_repositories_repository",
				Columns:    []*schema.Column{NotificationsColumns[8]},
				RefColumns: []*schema.Column{RepositoriesColumns[0]},
				OnDelete:   schema.Cascade,
			},
		},
	}
	// PruningRulesColumns holds the columns for the "pruning_rules" table.
	PruningRulesColumns = []*schema.Column{
		{Name: "id", Type: field.TypeInt, Increment: true},
		{Name: "created_at", Type: field.TypeTime},
		{Name: "updated_at", Type: field.TypeTime},
		{Name: "is_enabled", Type: field.TypeBool},
		{Name: "keep_hourly", Type: field.TypeInt},
		{Name: "keep_daily", Type: field.TypeInt},
		{Name: "keep_weekly", Type: field.TypeInt},
		{Name: "keep_monthly", Type: field.TypeInt},
		{Name: "keep_yearly", Type: field.TypeInt},
		{Name: "keep_within_days", Type: field.TypeInt},
		{Name: "next_run", Type: field.TypeTime, Nullable: true},
		{Name: "last_run", Type: field.TypeTime, Nullable: true},
		{Name: "last_run_status", Type: field.TypeString, Nullable: true},
		{Name: "backup_profile_pruning_rule", Type: field.TypeInt, Unique: true},
	}
	// PruningRulesTable holds the schema information for the "pruning_rules" table.
	PruningRulesTable = &schema.Table{
		Name:       "pruning_rules",
		Columns:    PruningRulesColumns,
		PrimaryKey: []*schema.Column{PruningRulesColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "pruning_rules_backup_profiles_pruning_rule",
				Columns:    []*schema.Column{PruningRulesColumns[13]},
				RefColumns: []*schema.Column{BackupProfilesColumns[0]},
				OnDelete:   schema.Cascade,
			},
		},
	}
	// RepositoriesColumns holds the columns for the "repositories" table.
	RepositoriesColumns = []*schema.Column{
		{Name: "id", Type: field.TypeInt, Increment: true},
		{Name: "created_at", Type: field.TypeTime},
		{Name: "updated_at", Type: field.TypeTime},
		{Name: "name", Type: field.TypeString, Unique: true, Size: 30},
		{Name: "location", Type: field.TypeString, Unique: true},
		{Name: "password", Type: field.TypeString},
		{Name: "next_integrity_check", Type: field.TypeTime, Nullable: true},
		{Name: "stats_total_chunks", Type: field.TypeInt, Default: 0},
		{Name: "stats_total_size", Type: field.TypeInt, Default: 0},
		{Name: "stats_total_csize", Type: field.TypeInt, Default: 0},
		{Name: "stats_total_unique_chunks", Type: field.TypeInt, Default: 0},
		{Name: "stats_unique_size", Type: field.TypeInt, Default: 0},
		{Name: "stats_unique_csize", Type: field.TypeInt, Default: 0},
	}
	// RepositoriesTable holds the schema information for the "repositories" table.
	RepositoriesTable = &schema.Table{
		Name:       "repositories",
		Columns:    RepositoriesColumns,
		PrimaryKey: []*schema.Column{RepositoriesColumns[0]},
	}
	// SettingsColumns holds the columns for the "settings" table.
	SettingsColumns = []*schema.Column{
		{Name: "id", Type: field.TypeInt, Increment: true},
		{Name: "created_at", Type: field.TypeTime},
		{Name: "updated_at", Type: field.TypeTime},
		{Name: "theme", Type: field.TypeEnum, Enums: []string{"system", "light", "dark"}, Default: "system"},
		{Name: "show_welcome", Type: field.TypeBool, Default: true},
	}
	// SettingsTable holds the schema information for the "settings" table.
	SettingsTable = &schema.Table{
		Name:       "settings",
		Columns:    SettingsColumns,
		PrimaryKey: []*schema.Column{SettingsColumns[0]},
	}
	// BackupProfileRepositoriesColumns holds the columns for the "backup_profile_repositories" table.
	BackupProfileRepositoriesColumns = []*schema.Column{
		{Name: "backup_profile_id", Type: field.TypeInt},
		{Name: "repository_id", Type: field.TypeInt},
	}
	// BackupProfileRepositoriesTable holds the schema information for the "backup_profile_repositories" table.
	BackupProfileRepositoriesTable = &schema.Table{
		Name:       "backup_profile_repositories",
		Columns:    BackupProfileRepositoriesColumns,
		PrimaryKey: []*schema.Column{BackupProfileRepositoriesColumns[0], BackupProfileRepositoriesColumns[1]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "backup_profile_repositories_backup_profile_id",
				Columns:    []*schema.Column{BackupProfileRepositoriesColumns[0]},
				RefColumns: []*schema.Column{BackupProfilesColumns[0]},
				OnDelete:   schema.Cascade,
			},
			{
				Symbol:     "backup_profile_repositories_repository_id",
				Columns:    []*schema.Column{BackupProfileRepositoriesColumns[1]},
				RefColumns: []*schema.Column{RepositoriesColumns[0]},
				OnDelete:   schema.Cascade,
			},
		},
	}
	// Tables holds all the tables in the schema.
	Tables = []*schema.Table{
		ArchivesTable,
		BackupProfilesTable,
		BackupSchedulesTable,
		NotificationsTable,
		PruningRulesTable,
		RepositoriesTable,
		SettingsTable,
		BackupProfileRepositoriesTable,
	}
)

func init() {
	ArchivesTable.ForeignKeys[0].RefTable = RepositoriesTable
	ArchivesTable.ForeignKeys[1].RefTable = BackupProfilesTable
	ArchivesTable.ForeignKeys[2].RefTable = BackupProfilesTable
	BackupSchedulesTable.ForeignKeys[0].RefTable = BackupProfilesTable
	NotificationsTable.ForeignKeys[0].RefTable = BackupProfilesTable
	NotificationsTable.ForeignKeys[1].RefTable = RepositoriesTable
	PruningRulesTable.ForeignKeys[0].RefTable = BackupProfilesTable
	BackupProfileRepositoriesTable.ForeignKeys[0].RefTable = BackupProfilesTable
	BackupProfileRepositoriesTable.ForeignKeys[1].RefTable = RepositoriesTable
}
